DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'EmployeeDocumentManagementApp.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202401231223136_InitialCreate'
BEGIN
    ALTER TABLE [dbo].[Employees] ADD [IsArchived] [bit] NOT NULL DEFAULT 0
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202401231223136_InitialCreate', N'EmployeeDocumentManagementApp.Migrations.Configuration',  0x1F8B0800000000000400CD58CB6EE33614DD17E83F085AB540C6CC63D306F20C3C7632701B274194993D2D5D3B4429522529C3FEB62EFA49FD855EEA494B7E7B665A78635F5D1E9E7B491E1EF99FBFFE0E3E2C13EE2D40692645DFBFEA5DFA1E8848C64CCCFB7E6666EF7EF13FBCFFF187E02E4E96DE972AEFC6E6E148A1FBFE9B31E92D213A7A8384EA5EC22225B59C995E2413426349AE2F2F7F2557570410C2472CCF0B5E32615802F90FFC39942282D464944F640C5C97717C12E6A8DE234D40A73482BE3FC48C7BA6B4A963BE37E08C229310F8CCF7A810D250833C6F3F6B088D92621EA618A0FC759502E6CD28D750F2BF6DD20F2DE5F2DA96429A811554946923932301AF6ECADE90F6F0933AECD7BDC3EEDD6197CDCA569D77B0EFDF2529972BC0E2DB93DD0EB9B2894DCE85577D1BC9284B40980915740EF6DB204D2FEADD809BC67E2EBC61C64DA6A02F20338AF20BEF399B7216FD0EAB57F90788BEC83877F921437CB616C0D0B3922928B37A81598BF538F63DB23E9EB401EAE11BC616F58D85B9B9F6BD472443A71CEAEDE0F4223452C12710A0A881F8991A030A57731C43DED00E8BD69CF5F6ACA6C44D88E7C9F72674F900626EDEFA3E7EF5BD7BB684B88A94343E0B86C70F071995C1BE991EE8779AE8EED3E3BEFEED0128D7E1BBB07DC173C204623F005DC088AEF479E47F93D35766F8B7273E82942A634FD8379F6AAC072A7A630BA80FC647293950B1A73B016954A5AB35A8E4065B0FAA9C05856234B541589A0DA283025DEA8E2E59AF732E404330AD5D84EBD9B02884BFD768DB26BA35B1E66E21C5E5525D4264CB2D144C689AE21A38B75219F1C2F24A7A171EAFD549814122BD41B26BB6F54CA848A8BDADA7CE6D38A2864EA95DAC619C74D2D696614B8BABA9DA9D6EEB73D3F86A84FD5E8CEA5ECECDB2B4709A36DE636576CBE74542CDC7B9AD3A4373674039553BD47E287996887D37C82E3447C75D30277C3856A3D42E54133D1C2997E2B5E26CE088F16B4ABCA94BC732DA24B72EEEA6E787A337E2EB6236D1C3915C7575B1DCF8E168AE80BA686EBC8B1690D6AE6F1F2FD2395F2DC7D33EB0BBC4AE9D52CF5E8B5E4BDC8252688EF0E195F21429BE876D5AB0D8AA4EB8D206929E4DE8857FF22167798BAB04B4936C06DA14E6D0472B7CDDB2F2FF1F5B4DB48EF981DEFA3F77B8CC7679AF873DD203754CAD5850DCE754FD94D0E5CF2EDC29C6F52C30C79CE6A57F056B7A169FEDF6F3147A6DF37916B5AEC13C0BAE6B22A76C5F85C719C8AEC139CC21EE34888554F5FD782A9177C1D4B19627FAC7AE7406C4FDA323188166F306C2FEED2120B29AD480563963319355B3B13A975195D25A8B09181A639306CAB0198D0C3E8E40EBFCEDE10BE5595EE314E2B178CA4C9A9981D6904CF9DADB6C4076CF9F9BE475CEC1536A7FE9AF5102D26458023C898F19E371CDFB7EC32EDA0261F74BA97AC80ADF9E106EBEAA911EA53810A86C1F1E181056335F01370882E92711E2A93E851BBEED3CC09C46ABEA06DC0EB27F21D6DB1E8C189D2B9AE812A3196FFFBC23F6DFBBF7FF0225F35CBEEF130000 , N'6.4.4')
END

IF @CurrentMigration < '202401240712134_AutomaticMigration'
BEGIN
    ALTER TABLE [dbo].[Employees] ADD [RowVersion] rowversion NOT NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202401240712134_AutomaticMigration', N'EmployeeDocumentManagementApp.Migrations.Configuration',  0x1F8B0800000000000400CD58DB72DB36107DEF4CFF81C3A774C6117D79493D54328A6467D45AB6C774F20E912B1953106001D095BEAD0FFDA4FE4217BC82A46E949234A3176AB93838BBD81BF8EFDFFFF81F5631735E412A2AF8D0BD189CBB0EF05044942F876EAA176FDFB91FDEFFFC937F13C52BE74BA97765F470255743F745EBE4DAF354F80231518398865228B1D08350C41E898477797EFEAB7771E10142B888E538FE53CA358D21FB837FC7828790E894B0998880A9428E6F820CD5B92731A884843074C7A8714BA5D295CC75468C126412005BB80EE15C68A291E7F567058196822F830405843DAF1340BD05610A0AFED7B5FAA1A69C5F1A53BC7A610915A64A8BB827E0C555E11BAFBDFC280FBB95EFD07B37E865BD3656671E1CBA3771C2C41AD0F8F666D763268D62AD73E6944F1311A631703D239C2CC13C8D92E4AC8A060C1AF33B73C629D3A9842187544BC2CE9CC774CE68F83BAC9FC51FC0873C65CCE6870CF15D4380A2472912907AFD048B16EB69E43A5E73BDD706A8966F589BDB37E5FAEAD275EE910C9933A8C2C1F245A085844FC041120DD123D11A249EE63482CCA11D16AD3DABF02CB7C420C47C729D1959DD015FEA97A18B8FAE734B5710959282C6674E31FD70919629ECDBE98E7CA78D6E3EDDEFF3DF1E80E21CBE0BDB27CC13CA11FB0EC82B4CC85A9D46FE37317FA69A7D7BE2134888D426C3BEF956533592E10B7D852A313E0AC180F0DEDE79127F15A5A042A29C484C1353D75329B1A1AC6719B18C75C398779B4D39223BC7224E520DAD1AE17B7511EC964624A831524016A6605D9BCC8D10567A438DC47E5294495538B9E9981C3400DD0A7A0CBF9A45DEA7067529DE44B72256B7422FEF8565CFF4B6344D7F46920443C66AA285C4098A0EFA36E8DF5AE21CC30BD5860E53B1AD76C223C256D17A6B35EF09D1644ECCC18EA3B8A3D638862D2E2EB76A7BBADD4E6AC7972BCC73BEAA3B4BD4C7D2C2A9DD788B96990CCD8C848A8FD55C3B4BB3418630227734A7B16069CCF735BC5D6856DBB1C12CF1E1587563B1A16AE9E14859E7681867043DD6371AC7262FF565B4A93BD8B89BDE1F8E5EF70A1BB3961E8E6437031BCB961F8E66D77B1BCD96F7F0A155F31BBEB3E45D34DF6BE5503B59BD4EB6B6C6BD76FAEF2A9D6D956AF7AA84B64AA55F94AD1E9790B28EE52AAE836E7AA591A961C15A698807466110FCC9C68C6607562AE02C4D17A0743E19BB780FB86CDD637E9C3B85A754C40EBC58FCEFE33D355EDE3BC0F71C713A133D7F25983544BE89C9EA171BEE98A9FD24306B32CF4CFF0A73F9497CB6CFDEC7D06B4FDE2751EB4ED727C17527E839ED6F61777A365F46942671B2358EEB5177E766FD66DFEE6C76D870BB73B6CDEBE2D08DE602CDCB995A53F191A36FB74EFB9EFD49C99F80A2CB1AC27C60E2109A025883963A53BE10E599A07536A352A5756433D02442278DA4A60B126A7C1D8252D93DED0B616966E31CA2297F48351ED4482988E7ACF1DDC0F776EF9FCDF74DCEFE4362FEA9AF6102D2A468023CF08F296551C5FB7643146D8130F1528426B2C27B2AC22DD715D2BDE0070215EEC3EC046E0AF433608020987AE001969063B8E145ED0E96245C97ED763BC8FE8368BADD9F50B29424560546BDDE7C26F5CC77D2F7FF010EC9BAD059150000 , N'6.4.4')
END

